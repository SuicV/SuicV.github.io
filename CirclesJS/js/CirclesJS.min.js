!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Circles=t():e.Circles=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e){return e*(Math.PI/180)}function i(e,t,r){return{x:e.x+t*Math.cos(r),y:e.y+t*Math.sin(r)}}function o(e){return e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:360)/(arguments.length>2&&void 0!==arguments[2]?arguments[2]:100)}r.r(t);var c={PERCENTAGE_VALUE_TYPE:"percentage",NUMBER_VALUE_TYPE:"number",TEXT_VALUE_TYPE:"text",STROKE:"black",STROKE_WIDTH:1,STROKE_LINECAP:"round",START_ANGLE:{top_middle:1.5*Math.PI},FILL:"none",FONT_SIZE:16,FONT_WEIGHT:"regular",COLOR:"black"};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.forEach(function(e){void 0===t[e]&&(t[e]=c[e.toUpperCase()])}),t}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=document.createElementNS("http://www.w3.org/2000/svg","path"),f=document.createElementNS("http://www.w3.org/2000/svg","text");function d(e,t){var r="";return e.forEach(function(e){r+="".concat(e.replace("_","-"),":").concat(t[e],";")}),r}function p(e,t){var r={x:t.x,y:t.y},o=function(e,t){return t-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)-e/2}(t.stroke_width,t.radius),l="number"==typeof t.start_angle?c.START_ANGLE.top_middle+n(t.start_angle):c.START_ANGLE.top_middle,u=i(r,o,l),a=i(r,o,l+n(e));if(e<180)return["M",u.x,u.y,"a",o,o,"0","0","1",a.x-u.x,a.y-u.y].join(" ");var s=i(r,o,l+Math.PI);return["M",u.x,u.y,"a",o,o,"0","0","1",s.x-u.x,s.y-u.y,"a",o,o,"0","0","1",a.x-s.x,a.y-s.y].join(" ")}function y(e,t){switch(t){case c.PERCENTAGE_VALUE_TYPE:return e+"%";case c.NUMBER_VALUE_TYPE:return e}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=f.cloneNode(),n=d(["font_family","font_size","font_weight","fill"],function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{font_size:"".concat(e.font_size,"px")}));return r.setAttribute("text-anchor","middle"),r.setAttribute("x",e.x),r.setAttribute("y",e.y+e.font_size/4),r.setAttribute("style",n),void 0!==e.class&&r.setAttribute("class",e.class),"string"==typeof e.text?r.textContent=e.text:"string"==typeof e.value_type&&(r.textContent=y(t,e.value_type)),r}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o(e.value,e.max_angle,e.max_value),r=s.cloneNode(!1);return r.setAttribute("d",p(t,e)),function(e,t){var r=d(["stroke_width","stroke","stroke_linecap","fill"],t);e.setAttribute("style",r),void 0!==t.class&&e.setAttribute("class",t.class)}(r,e),r}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t,r,n){var i=+new Date;if(i<=e+t||n>this.circle.value){var c=o(this.circle.value,this.circle.max_angle,this.circle.max_value);this.circle.value=parseInt(function(e,t,r,n){return n*((r-t)/e)+t}(t,r,n,i-e));var l=p(c,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},this.circle,{},this.middle));this.elContent.circle.setAttribute("d",l),void 0!==this.middleText&&void 0!==this.middleText.value_type&&(this.elContent.middleText.textContent=y(this.circle.value,this.middleText.value_type)),window.requestAnimationFrame(O.bind(this,e,t,r,n))}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(r,!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"default",function(){return P});var P=function(){function e(t){var r,n,i,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,r=["el","radius","value"],n=w({el:t.el},t.circle),r.forEach(function(e){if(void 0===n[e])throw new Error("Configuration Error ".concat(e," attribute undefined"))}),this.circle=l(["stroke_width","stroke","stroke_linecap","fill"],t.circle),this.circle.max_value=void 0===this.circle.max_value?100:this.circle.max_value,void 0!==t.middleText&&(this.middleText=l(["font_size","font_weight","color","font_family"],t.middleText)),"object"===g(t.fillRest)&&(this.fillRest=w({},this.circle,{},t.fillRest),this.fillRest.value=this.fillRest.max_value),this.el=t.el,this.middle=(i=t.el,{x:(o=i.getBoundingClientRect()).width/2,y:o.height/2}),this.isDrawed=!1}var t,r,n;return t=e,(r=[{key:"draw",value:function(){var e,t;this.isDrawed=!0;var r=b(w({},this.circle,{},this.middle));void 0!==this.fillRest&&(e=b(w({},this.fillRest,{},this.middle)),this.el.appendChild(e)),void 0!==this.middleText&&(t=h(w({},this.middleText,{},this.middle),this.circle.value),this.el.appendChild(t)),this.el.appendChild(r),this.elContent={circle:r,restCircle:e,middleText:t}}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=this.circle.value;this.circle.value=0,this.draw();var r=new Date;window.requestAnimationFrame(O.bind(this,+r,e,this.circle.value,t))}}])&&j(t.prototype,r),n&&j(t,n),e}()}]).default});